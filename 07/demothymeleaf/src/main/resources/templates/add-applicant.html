<!DOCTYPE html>
<html lang="en">
  <head th:insert="~{template/template::head}"> </head>
  <body>
    <div class="container mt-4">
      <header
        class="title-font-seagreen"
        th:insert="~{template/template::page-header('THÊM ỨNG VIÊN')}"
      ></header>
      <main class="">
        <div class="row">
          <div class="col-3"></div>
          <div class="col-6">
            <form
              action="#"
              th:action="@{/add-applicant}"
              th:object="${applicant}"
              method="post"
              enctype="multipart/form-data"
            >
              <div class="upload-avatar mb-3 g-1">
                <div class="row">
                  <div class="col-3">
                    <div class="avatar-box border border-success rounded" >
                      <img id="preview" src="https://cdn-icons-png.flaticon.com/512/892/892781.png" alt="preview" style="width: 100%; height: 100%; object-fit: cover;" />
                    </div>
                  </div>
                  <div class="col-9 row align-items-end">
                    <div>
                      <label for="formFile" class="form-label"
                        >Chọn ảnh chân dung
                      </label>
                      <input
                        class="form-control"
                        type="file"
                        id="formFile"
                        th:field="*{avatar}"
                        onchange="previewImage(event)"
                      />
                    </div>
                    <div class="error">
                      <div
                        class="text-danger"
                        th:if="${#fields.hasErrors('avatar')}"
                        th:errors="*{avatar}"
                      >
                        Upload Error
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="div mb-3">
                <label class="form-label" for="name">Tên</label>
                <input
                  class="form-control"
                  type="text"
                  id="name"
                  th:field="*{name}"
                />
              </div>
              <div class="div mb-3">
                <label class="form-label" for="address">Địa chỉ</label>
                <input
                  class="form-control"
                  type="text"
                  id="address"
                  th:field="*{address}"
                />
              </div>
              <div class="div mb-3">
                <label class="form-label" for="age">Tuổi</label>
                <input
                  class="form-control"
                  type="text"
                  id="age"
                  th:field="*{age}"
                />
              </div>
              <div class="form-input mb-3">
                <label for="inputGroupSelect01">Giới tính</label>
                <select
                  class="form-select"
                  id="inputGroupSelect01"
                  th:field="*{gender}"
                >
                  <option th:value="0">Nam</option>
                  <option th:value="1">Nữ</option>
                </select>
              </div>
              <div class="div mb-3">
                <label class="form-label" for="education"
                  >Trình độ học vấn</label
                >
                <input
                  class="form-control"
                  type="text"
                  id="education"
                  th:field="*{education}"
                />
              </div>
              <div class="div mb-3">
                <label class="form-label" for="email">Email</label><br />
                <input
                  class="form-control"
                  type="text"
                  id="email"
                  th:field="*{email}"
                />
              </div>
              <div class="div mb-3">
                <label class="form-label" for="phoneNumbers"
                  >Số điện thoại</label
                ><br />
                <input
                  class="form-control"
                  type="text"
                  id="phoneNumbers"
                  th:field="*{phoneNumbers}"
                />
              </div>
              <button class="btn btn-success" type="submit">Submit</button>
            </form>
          </div>
          <div class="col-3"></div>

          <section class="message">
            <p th:text="${message}"></p>
          </section>
          <section class="message2">
            <p th:text="${message2}"></p>
          </section>
        </div>
      </main>
    </div>
    <script type="text/javascript">
      const previewImage = (e) => {
        const preview = document.getElementById("preview");
        preview.src = URL.createObjectURL(e.target.files[0]);
        console.log(preview.src);
        preview.onload = () => URL.revokeObjectURL(preview.src);
      };
    </script>
  </body>
</html>
